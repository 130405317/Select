<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.select.dao.StudentDao">
	<select id="checkStudent" parameterType="object" resultType="java.util.Map">
		select *
		from student
		where S_ID = #{id} and S_PASSWORD = #{password}
	</select>

	<select id="getStudentsByClass" parameterType="object"
		resultType="map">
		select S_ID,S_NAME from student where S_CLASS = #{class}
	</select>

	<select id="getStudentById" parameterType="object" resultType="map">
		select *
		from student
		where S_ID = #{id}
	</select>

	<update id="updateStudent" parameterType="object">
		update student
		<set>
			<if test="type == 'sex'">S_SEX=#{message},</if>
			<if test="type == 's_birthday'">S_BIRTHDAY = #{message},</if>
			<if test="type == 'phone'">PHONE = #{message},</if>
			<if test="type == 'spesialty'">SPECIALTY = #{message},</if>
			<if test="type == 'interest'">INTEREST = #{message},</if>
			<if test="type == 'award'">AWARD = #{message}</if>
		</set>
		where S_ID = #{id}
	</update>

	<select id="getAllStudents" parameterType="object" resultType="map">
	    select * from student order by SCORE desc 
	</select>
</mapper>